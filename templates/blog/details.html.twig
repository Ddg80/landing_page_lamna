{% extends 'base.html.twig' %}

{% block title %}{{ post.slug }}{% endblock %}

{% block body %}
	<header class="header-blog-details">
		<div class="container-header-blog-details">
			<div class="block-image-header-blog-details">
				<img src="{{vich_uploader_asset(post, 'imageFile')}}" alt="{{post.title}}"/>
			</div>
			<div class="content-header-blog-details">
				<div class="link-header-blog-details">
					<a href="{{path('home')}}" onclick="window.location.reload()">&larr;  Retour</a>
				</div>
				<div
					class="box-label-and-date">
					{# Relation class many to many #}
					{% for category in post.categories %}
						<span class="concept-blog-details">{{category.name}}</span>
					{% endfor %}
					<span class="date-card-article-blog-details">{{post.createdAt |format_datetime('short', 'none', locale='fr')}}</span>
				</div>
				<div class="title-header-blog-details">
					<h1>{{post.title | raw}}</h1>
				</div>
				<div class="description-blog-details">{{post.content | raw }}</div>
			</div>
		</div>
	</header>
	<section class="section-paragraphs">
		{% if paragraphs|length > 0 %}
			{% for paragraph in paragraphs %}
				<div class="container-paragraphs">
					<h3 class="title-paragraphs">{{paragraph.title | raw}}</h3>
					<div>{{paragraph.content | raw}}</div>
					<div class="container-image-paragraphs">
						<figure>
							<img src="{{vich_uploader_asset(paragraph, 'imageFile')}}" alt="{{paragraph.title}}"/>
							{% if paragraph.caption %}
								<figcaption>{{paragraph.caption | raw}}</figcaption>
							{% endif %}
						</figure>
					</div>
				</div>	
			{% endfor %}
		{% else %}
			{% include "partials/notParagraph.html.twig" %}
		{% endif %}

	</section>
	<section class="section-blog-details">
		<p class="concept">Articles liés</p>
		<h2 class="title-blog-details">Ces articles pourraient vous intéresser</h2>
		<p class="text-section-blog-details">Urna nisl facilisis diam sollicitudin purus in. Sed quisque phasellus nulla augue non sed proin amet. Cursus mauris malesuada felis integer parturient gravida scelerisque pellentesque.</p>
		{% include "partials/cardsArticle.html.twig" %}
	</div>
</section>{% endblock %}
